<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Online Translator | Nexo Translator - 50+ Languages</title>
    <meta name="description" content="Fast online translator with Nexo Translator! Free, professional translations in 50+ languages like English, Spanish, Hausa, Yoruba, Arabic, and more. User-friendly, no registration needed.">
    <meta name="keywords" content="translator, online translator, free translator, language translator, multilingual translator, Hausa translator, Yoruba translator, Arabic translator, Spanish translator, fast translation, speech-to-text">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸŒ</text></svg>">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <style>
/* Reset and Base Styles */
* { margin: 0; padding: 0; box-sizing: border-box; }

:root {
  /* Light Mode Colors */
  --primary-color: #1a1a1a;
  --primary-hover: #000000;
  --primary-light: rgba(26, 26, 26, 0.1);
  --accent-color: #333333;
  --accent-hover: #1a1a1a;
  --surface-color: rgba(255, 255, 255, 0.9);
  --surface-secondary: rgba(248, 250, 252, 0.95);
  --surface-tertiary: rgba(241, 245, 249, 0.8);
  --glass-bg: rgba(255, 255, 255, 0.85);
  --glass-border: rgba(0, 0, 0, 0.1);
  --border-light: rgba(0, 0, 0, 0.08);
  --text-primary: #1a1a1a;
  --text-secondary: #666666;
  --text-tertiary: #999999;
  --shadow-light: 0 8px 32px rgba(0, 0, 0, 0.08);
  --shadow-medium: 0 8px 32px rgba(0, 0, 0, 0.12);
  --shadow-glass: 0 8px 32px 0 rgba(0, 0, 0, 0.1);
  --backdrop-filter: blur(20px);
  --border-radius: 16px;
  --border-radius-large: 24px;
  --transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  --gradient-bg: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
  --gradient-card: linear-gradient(145deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.7) 100%);
}

[data-theme="dark"] {
  /* Dark Mode Colors */
  --primary-color: #ffffff;
  --primary-hover: #f8f9fa;
  --primary-light: rgba(255, 255, 255, 0.1);
  --accent-color: #e9ecef;
  --accent-hover: #f8f9fa;
  --surface-color: rgba(26, 26, 26, 0.9);
  --surface-secondary: rgba(51, 51, 51, 0.8);
  --surface-tertiary: rgba(77, 77, 77, 0.6);
  --glass-bg: rgba(26, 26, 26, 0.85);
  --glass-border: rgba(255, 255, 255, 0.1);
  --border-light: rgba(255, 255, 255, 0.08);
  --text-primary: #ffffff;
  --text-secondary: #cccccc;
  --text-tertiary: #999999;
  --shadow-light: 0 8px 32px rgba(0, 0, 0, 0.3);
  --shadow-medium: 0 8px 32px rgba(0, 0, 0, 0.4);
  --shadow-glass: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
  --gradient-bg: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
  --gradient-card: linear-gradient(145deg, rgba(26,26,26,0.9) 0%, rgba(51,51,51,0.7) 100%);
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Inter', sans-serif;
  background: var(--gradient-bg);
  min-height: 100vh;
  color: var(--text-primary);
  line-height: 1.6;
  position: relative;
  overflow-x: hidden;
}

body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.15) 0%, transparent 50%),
    radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.15) 0%, transparent 50%);
  pointer-events: none;
  z-index: -1;
}

.app-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px 20px 100px;
  min-height: 100vh;
  position: relative;
  z-index: 1;
}

/* Header */
.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 40px;
  padding: 20px;
  position: relative;
  backdrop-filter: var(--backdrop-filter);
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  border-radius: var(--border-radius-large);
  box-shadow: var(--shadow-glass);
}

.logo {
  display: flex;
  align-items: center;
  gap: 12px;
}

.logo-icon {
  width: 52px;
  height: 52px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 16px;
  overflow: hidden;
  transition: var(--transition);
  background: var(--gradient-card);
  backdrop-filter: blur(10px);
  border: 1px solid var(--glass-border);
}

.logo-icon:hover {
  transform: scale(1.05) rotate(2deg);
}

.logo-icon img {
  width: 90%;
  height: 90%;
  object-fit: contain;
  filter: contrast(1.1) saturate(1.1);
}


.header-controls {
  display: flex;
  align-items: center;
  gap: 16px;
}

.theme-toggle {
  width: 44px;
  height: 44px;
  border-radius: 50%;
  background: var(--glass-bg);
  backdrop-filter: blur(10px);
  border: 1px solid var(--glass-border);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: var(--transition);
  color: var(--text-secondary);
}

.theme-toggle:hover {
  background: var(--primary-light);
  color: var(--primary-color);
  transform: scale(1.1);
}

.social-header {
  display: flex;
  gap: 12px;
}

.social-link {
  width: 44px;
  height: 44px;
  border-radius: 50%;
  background: var(--glass-bg);
  backdrop-filter: blur(10px);
  border: 1px solid var(--glass-border);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-secondary);
  text-decoration: none;
  transition: var(--transition);
}

.social-link:hover {
  background: var(--primary-light);
  color: var(--primary-color);
  transform: translateY(-2px) scale(1.1);
  box-shadow: var(--shadow-light);
}

/* Main Translator */
.main-translator {
  background: var(--glass-bg);
  backdrop-filter: var(--backdrop-filter);
  border: 1px solid var(--glass-border);
  border-radius: var(--border-radius-large);
  box-shadow: var(--shadow-glass);
  overflow: hidden;
  margin-bottom: 40px;
  position: relative;
}

.main-translator::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--primary-color), transparent);
  opacity: 0.3;
  z-index: 1;
}

.language-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 24px;
  border-bottom: 1px solid var(--border-light);
  gap: 20px;
  position: relative;
  z-index: 100;
}

.language-detector {
  position: absolute;
  top: -8px;
  left: 24px;
  background: var(--primary-light);
  color: var(--primary-color);
  padding: 4px 12px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 500;
  opacity: 0;
  transform: translateY(-10px);
  transition: var(--transition);
  z-index: 10;
  pointer-events: none;
}

.language-detector.show {
  opacity: 1;
  transform: translateY(-8px);
}

.language-selector {
  position: relative;
  flex: 1;
  max-width: 220px;
  z-index: 200;
}

.language-btn {
  background: var(--glass-bg);
  backdrop-filter: blur(10px);
  border: 1px solid var(--glass-border);
  border-radius: var(--border-radius);
  padding: 14px 18px;
  font-size: 15px;
  font-weight: 500;
  color: var(--text-primary);
  cursor: pointer;
  transition: var(--transition);
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.language-btn:hover {
  border-color: var(--primary-color);
  background: var(--primary-light);
  transform: translateY(-1px);
  box-shadow: var(--shadow-light);
}

.language-flag {
  width: 20px;
  height: 15px;
  border-radius: 3px;
  background: var(--gradient-card);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
}

.language-dropdown {
  position: fixed !important;
  background: var(--surface-color);
  border: 1px solid var(--border-light);
  border-radius: var(--border-radius);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.25) !important;
  z-index: 9999 !important;
  max-height: 300px;
  overflow-y: auto;
  display: none;
  min-width: 220px;
  backdrop-filter: blur(20px) !important;
}

.language-dropdown.active {
  display: block;
}

.language-option {
  padding: 12px 16px;
  cursor: pointer;
  transition: background-color 0.2s;
  font-size: 14px;
  color: var(--text-primary);
}

.language-option:hover {
  background: var(--surface-secondary);
}

.language-option.selected {
  background: rgba(26,115,232,0.1);
  color: var(--primary-color);
  font-weight: 500;
}

.swap-btn {
  background: var(--glass-bg);
  backdrop-filter: blur(10px);
  border: 1px solid var(--glass-border);
  border-radius: 50%;
  width: 52px;
  height: 52px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: var(--transition);
  color: var(--text-secondary);
  position: relative;
  overflow: hidden;
}

.swap-btn::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: var(--primary-color);
  border-radius: 50%;
  transition: var(--transition);
  transform: translate(-50%, -50%);
  opacity: 0.1;
}

.swap-btn:hover {
  border-color: var(--primary-color);
  color: var(--primary-color);
  transform: rotate(180deg) scale(1.1);
  box-shadow: var(--shadow-light);
}

.swap-btn:hover::before {
  width: 100%;
  height: 100%;
}

/* Translation Area */
.translation-area {
  display: grid;
  grid-template-columns: 1fr 1fr;
  min-height: 350px;
  gap: 2px;
  overflow: hidden;
  border-radius: 0 0 var(--border-radius-large) var(--border-radius-large);
}

.text-panel {
  position: relative;
  display: flex;
  flex-direction: column;
  background: var(--glass-bg);
  backdrop-filter: blur(10px);
  transition: var(--transition);
}

.text-panel:first-child {
  border-right: 1px solid var(--glass-border);
}

.text-panel:hover {
  background: var(--surface-secondary);
}

.text-area {
  border: none;
  outline: none;
  padding: 28px;
  font-size: 17px;
  line-height: 1.7;
  color: var(--text-primary);
  background: transparent;
  resize: none;
  flex: 1;
  min-height: 350px;
  font-family: inherit;
  transition: var(--transition);
}

.text-area::placeholder {
  color: var(--text-tertiary);
  font-style: italic;
}

.text-area:focus {
  color: var(--text-primary);
}

.char-count {
  position: absolute;
  bottom: 60px;
  right: 24px;
  font-size: 12px;
  color: var(--text-tertiary);
}

.panel-controls {
  display: flex;
  gap: 8px;
  padding: 16px 24px;
  border-top: 1px solid var(--border-light);
  justify-content: flex-end;
}

.control-btn {
  background: var(--glass-bg);
  backdrop-filter: blur(10px);
  border: 1px solid var(--glass-border);
  border-radius: 12px;
  width: 44px;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: var(--text-secondary);
  transition: var(--transition);
  position: relative;
  overflow: hidden;
}

.control-btn::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: var(--primary-color);
  border-radius: 50%;
  transition: var(--transition);
  transform: translate(-50%, -50%);
  opacity: 0.1;
  z-index: 0;
}

.control-btn:hover {
  color: var(--primary-color);
  transform: translateY(-2px) scale(1.05);
  box-shadow: var(--shadow-light);
}

.control-btn:hover::before {
  width: 120%;
  height: 120%;
}

.control-btn.active {
  background: var(--primary-color);
  color: white;
  box-shadow: var(--shadow-medium);
}

.control-btn.active::before {
  background: rgba(255,255,255,0.2);
  width: 100%;
  height: 100%;
}

.microphone-btn {
  animation: pulse 2s infinite;
}

.microphone-btn.recording {
  animation: recording-pulse 1s infinite;
  background: #ef4444;
  color: white;
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

@keyframes recording-pulse {
  0%, 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); }
  50% { box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }
}


/* Translate Section */
.translate-section {
  padding: 24px 28px;
  background: var(--surface-tertiary);
  backdrop-filter: blur(20px);
  text-align: center;
  border-top: 1px solid var(--glass-border);
  position: relative;
}

.translate-section::before {
  content: '';
  position: absolute;
  top: 0;
  left: 20%;
  right: 20%;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--accent-color), transparent);
  opacity: 0.4;
}

.translate-btn {
  background: var(--primary-color);
  color: white;
  border: none;
  border-radius: var(--border-radius);
  padding: 16px 40px;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: var(--transition);
  min-width: 140px;
  position: relative;
  overflow: hidden;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  box-shadow: var(--shadow-medium);
}

.translate-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
  transition: var(--transition);
}

.translate-btn:hover {
  transform: translateY(-3px) scale(1.02);
  box-shadow: var(--shadow-glass);
}

.translate-btn:hover::before {
  left: 100%;
}

.translate-btn:active {
  transform: translateY(-1px) scale(0.98);
}

.translate-btn:disabled {
  background: var(--text-tertiary);
  cursor: not-allowed;
  transform: none;
  opacity: 0.6;
}

.detect-language {
  font-size: 12px;
  color: var(--text-secondary);
  margin-bottom: 16px;
}

.error-message {
  color: #d93025;
  background: #fce8e6;
  padding: 12px 24px;
  margin: 16px 24px;
  border-radius: 8px;
  font-size: 14px;
  display: none;
}

/* Bottom Navigation */
.bottom-nav {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: var(--glass-bg);
  backdrop-filter: var(--backdrop-filter);
  border: 1px solid var(--glass-border);
  border-radius: var(--border-radius-large);
  padding: 12px 24px;
  display: flex;
  align-items: center;
  gap: 8px;
  box-shadow: var(--shadow-glass);
  z-index: 1500;
  transition: var(--transition);
}

.nav-item {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 56px;
  height: 56px;
  border-radius: var(--border-radius);
  cursor: pointer;
  transition: var(--transition);
  color: var(--text-secondary);
  position: relative;
  background: transparent;
  border: none;
}

.nav-item.active {
  background: var(--primary-color);
  color: white;
  box-shadow: var(--shadow-medium);
}

.nav-item:hover:not(.active) {
  background: var(--primary-light);
  color: var(--primary-color);
  transform: translateY(-2px) scale(1.1);
}

.nav-label {
  position: absolute;
  bottom: -28px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 10px;
  font-weight: 500;
  opacity: 0;
  transition: var(--transition);
  white-space: nowrap;
}

.nav-item:hover .nav-label,
.nav-item.active .nav-label {
  opacity: 1;
}

/* Floating Action Button */
.fab {
  position: fixed;
  bottom: 100px;
  right: 20px;
  width: 64px;
  height: 64px;
  border-radius: 50%;
  background: #000000;
  color: white;
  border: none;
  cursor: pointer;
  transition: var(--transition);
  box-shadow: var(--shadow-glass);
  z-index: 1400;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
}

.fab:hover {
  transform: scale(1.1) rotate(90deg);
  box-shadow: var(--shadow-medium);
}

/* Ads Section */
.ads-section {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 24px;
  margin: 40px 0;
}

.affiliate-ad {
  display: block;
  background: var(--glass-bg);
  backdrop-filter: var(--backdrop-filter);
  border: 1px solid var(--glass-border);
  border-radius: var(--border-radius-large);
  padding: 24px;
  text-decoration: none;
  color: inherit;
  transition: var(--transition);
  box-shadow: var(--shadow-glass);
  position: relative;
  overflow: hidden;
}

.affiliate-ad::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
  transform: scaleX(0);
  transition: var(--transition);
}

.affiliate-ad:hover {
  transform: translateY(-4px) scale(1.02);
  box-shadow: var(--shadow-medium);
}

.affiliate-ad:hover::before {
  transform: scaleX(1);
}

.ad-content h3 {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 8px;
}

.ad-content p {
  font-size: 14px;
  color: var(--text-secondary);
  line-height: 1.5;
}

/* History Section */
.history-section {
  background: var(--glass-bg);
  backdrop-filter: var(--backdrop-filter);
  border: 1px solid var(--glass-border);
  border-radius: var(--border-radius-large);
  box-shadow: var(--shadow-glass);
  padding: 28px;
  margin-bottom: 40px;
}

.section {
  display: none;
}

.section.active {
  display: block;
  animation: fadeInUp 0.5s ease-out;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.history-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.history-header h2 {
  font-size: 18px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0;
}

.clear-history-btn {
  background: transparent;
  border: 1px solid var(--border-light);
  border-radius: var(--border-radius);
  padding: 8px 16px;
  font-size: 12px;
  color: var(--text-secondary);
  cursor: pointer;
  transition: var(--transition);
}

.clear-history-btn:hover {
  border-color: var(--primary-color);
  color: var(--primary-color);
}

.history-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.history-item {
  background: var(--surface-secondary);
  backdrop-filter: blur(10px);
  border: 1px solid var(--glass-border);
  border-radius: var(--border-radius);
  padding: 20px;
  transition: var(--transition);
  cursor: pointer;
  position: relative;
  overflow: hidden;
}

.history-item::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 3px;
  background: var(--primary-color);
  transform: scaleY(0);
  transition: var(--transition);
}

.history-item:hover {
  background: var(--primary-light);
  transform: translateX(8px);
  box-shadow: var(--shadow-light);
}

.history-item:hover::before {
  transform: scaleY(1);
}

/* Footer */
.footer {
  text-align: center;
  padding: 24px;
  color: var(--text-secondary);
  font-size: 14px;
}

/* Responsive Design */
@media (max-width: 768px) {
  .app-container {
    padding: 16px;
  }
  
  .header {
    flex-direction: column;
    gap: 16px;
    text-align: center;
  }
  
  .language-header {
    flex-direction: column;
    gap: 12px;
  }
  
  .translation-area {
    grid-template-columns: 1fr;
  }
  
  .text-panel:first-child {
    border-right: none;
    border-bottom: 1px solid var(--border-light);
  }
  
  .ads-section {
    grid-template-columns: 1fr;
  }
  
  .language-selector {
    max-width: none;
  }
}
    </style>
</head>
<body>
    <div class="app-container">
        <header class="header" role="banner">
            <div class="logo">
                <div class="logo-icon">
                    <img src="attached_assets/IMG_20250826_073618_116_1757157131293.webp" alt="Nexo Translator Logo" />
                </div>
            </div>
            <div class="header-controls">
                <button class="theme-toggle" id="theme-toggle" title="Toggle dark/light mode">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" class="sun-icon">
                        <path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zM18.36 16.95c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41l-1.06-1.06zM19.42 5.99c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41.39.39 1.03.39 1.41 0l1.06-1.06zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z"/>
                    </svg>
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" class="moon-icon" style="display: none;">
                        <path d="M9 2c-1.05 0-2.05.16-3 .46 4.06 1.27 7 5.06 7 9.54 0 4.48-2.94 8.27-7 9.54.95.3 1.95.46 3 .46 5.52 0 10-4.48 10-10S14.52 2 9 2z"/>
                    </svg>
                </button>
                <div class="social-header">
                    <a href="https://x.com/nexotranslator" class="social-link" target="_blank" rel="noopener" aria-label="Follow us on X (Twitter)">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                        </svg>
                    </a>
                    <a href="https://instagram.com/nexotranslator" class="social-link" target="_blank" rel="noopener" aria-label="Follow us on Instagram">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                        </svg>
                    </a>
                </div>
            </div>
        </header>
        <main class="main-translator" role="main">
            <div class="language-header">
                <div class="language-selector">
                    <button class="language-btn" id="source-lang-btn" aria-haspopup="listbox" aria-expanded="false" aria-label="Select source language">
                        <div class="language-flag">ğŸŒ</div>
                        <span>Auto Detect</span>
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M7 10l5 5 5-5z"/>
                        </svg>
                    </button>
                    <div class="language-dropdown" id="source-lang-dropdown" role="listbox" aria-label="Source language options">
                        <div class="language-option selected" data-lang="auto" role="option">Auto Detect</div>
                        <div class="language-option" data-lang="en" role="option">English</div>
                        <div class="language-option" data-lang="es" role="option">Spanish</div>
                        <div class="language-option" data-lang="fr" role="option">French</div>
                        <div class="language-option" data-lang="de" role="option">German</div>
                        <div class="language-option" data-lang="it" role="option">Italian</div>
                        <div class="language-option" data-lang="pt" role="option">Portuguese</div>
                        <div class="language-option" data-lang="ru" role="option">Russian</div>
                        <div class="language-option" data-lang="ja" role="option">Japanese</div>
                        <div class="language-option" data-lang="ko" role="option">Korean</div>
                        <div class="language-option" data-lang="zh" role="option">Chinese</div>
                        <div class="language-option" data-lang="ar" role="option">Arabic</div>
                        <div class="language-option" data-lang="hi" role="option">Hindi</div>
                        <div class="language-option" data-lang="tr" role="option">Turkish</div>
                        <div class="language-option" data-lang="pl" role="option">Polish</div>
                        <div class="language-option" data-lang="nl" role="option">Dutch</div>
                        <div class="language-option" data-lang="sv" role="option">Swedish</div>
                        <div class="language-option" data-lang="da" role="option">Danish</div>
                        <div class="language-option" data-lang="no" role="option">Norwegian</div>
                        <div class="language-option" data-lang="fi" role="option">Finnish</div>
                        <div class="language-option" data-lang="cs" role="option">Czech</div>
                        <div class="language-option" data-lang="sk" role="option">Slovak</div>
                        <div class="language-option" data-lang="hu" role="option">Hungarian</div>
                        <div class="language-option" data-lang="ro" role="option">Romanian</div>
                        <div class="language-option" data-lang="bg" role="option">Bulgarian</div>
                        <div class="language-option" data-lang="hr" role="option">Croatian</div>
                        <div class="language-option" data-lang="sr" role="option">Serbian</div>
                        <div class="language-option" data-lang="sl" role="option">Slovenian</div>
                        <div class="language-option" data-lang="et" role="option">Estonian</div>
                        <div class="language-option" data-lang="lv" role="option">Latvian</div>
                        <div class="language-option" data-lang="lt" role="option">Lithuanian</div>
                        <div class="language-option" data-lang="uk" role="option">Ukrainian</div>
                        <div class="language-option" data-lang="be" role="option">Belarusian</div>
                        <div class="language-option" data-lang="mk" role="option">Macedonian</div>
                        <div class="language-option" data-lang="mt" role="option">Maltese</div>
                        <div class="language-option" data-lang="is" role="option">Icelandic</div>
                        <div class="language-option" data-lang="ga" role="option">Irish</div>
                        <div class="language-option" data-lang="cy" role="option">Welsh</div>
                        <div class="language-option" data-lang="eu" role="option">Basque</div>
                        <div class="language-option" data-lang="ca" role="option">Catalan</div>
                        <div class="language-option" data-lang="gl" role="option">Galician</div>
                        <div class="language-option" data-lang="th" role="option">Thai</div>
                        <div class="language-option" data-lang="vi" role="option">Vietnamese</div>
                        <div class="language-option" data-lang="id" role="option">Indonesian</div>
                        <div class="language-option" data-lang="ms" role="option">Malay</div>
                        <div class="language-option" data-lang="tl" role="option">Filipino</div>
                        <div class="language-option" data-lang="he" role="option">Hebrew</div>
                        <div class="language-option" data-lang="fa" role="option">Persian</div>
                        <div class="language-option" data-lang="ur" role="option">Urdu</div>
                        <div class="language-option" data-lang="bn" role="option">Bengali</div>
                        <div class="language-option" data-lang="ta" role="option">Tamil</div>
                        <div class="language-option" data-lang="te" role="option">Telugu</div>
                        <div class="language-option" data-lang="ml" role="option">Malayalam</div>
                        <div class="language-option" data-lang="kn" role="option">Kannada</div>
                        <div class="language-option" data-lang="gu" role="option">Gujarati</div>
                        <div class="language-option" data-lang="pa" role="option">Punjabi</div>
                        <div class="language-option" data-lang="ha" role="option">Hausa</div>
                        <div class="language-option" data-lang="yo" role="option">Yoruba</div>
                        <div class="language-option" data-lang="ig" role="option">Igbo</div>
                    </div>
                </div>
                <button class="swap-btn" id="swap-btn" title="Swap languages" aria-label="Swap source and target languages">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"/>
                    </svg>
                </button>
                <div class="language-selector">
                    <button class="language-btn" id="target-lang-btn" aria-haspopup="listbox" aria-expanded="false" aria-label="Select target language">
                        <div class="language-flag">ğŸ‡ºğŸ‡¸</div>
                        <span>English</span>
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M7 10l5 5 5-5z"/>
                        </svg>
                    </button>
                    <div class="language-dropdown" id="target-lang-dropdown" role="listbox" aria-label="Target language options">
                        <div class="language-option selected" data-lang="en" role="option">English</div>
                        <div class="language-option" data-lang="es" role="option">Spanish</div>
                        <div class="language-option" data-lang="fr" role="option">French</div>
                        <div class="language-option" data-lang="de" role="option">German</div>
                        <div class="language-option" data-lang="it" role="option">Italian</div>
                        <div class="language-option" data-lang="pt" role="option">Portuguese</div>
                        <div class="language-option" data-lang="ru" role="option">Russian</div>
                        <div class="language-option" data-lang="ja" role="option">Japanese</div>
                        <div class="language-option" data-lang="ko" role="option">Korean</div>
                        <div class="language-option" data-lang="zh" role="option">Chinese</div>
                        <div class="language-option" data-lang="ar" role="option">Arabic</div>
                        <div class="language-option" data-lang="hi" role="option">Hindi</div>
                        <div class="language-option" data-lang="tr" role="option">Turkish</div>
                        <div class="language-option" data-lang="pl" role="option">Polish</div>
                        <div class="language-option" data-lang="nl" role="option">Dutch</div>
                        <div class="language-option" data-lang="sv" role="option">Swedish</div>
                        <div class="language-option" data-lang="da" role="option">Danish</div>
                        <div class="language-option" data-lang="no" role="option">Norwegian</div>
                        <div class="language-option" data-lang="fi" role="option">Finnish</div>
                        <div class="language-option" data-lang="cs" role="option">Czech</div>
                        <div class="language-option" data-lang="sk" role="option">Slovak</div>
                        <div class="language-option" data-lang="hu" role="option">Hungarian</div>
                        <div class="language-option" data-lang="ro" role="option">Romanian</div>
                        <div class="language-option" data-lang="bg" role="option">Bulgarian</div>
                        <div class="language-option" data-lang="hr" role="option">Croatian</div>
                        <div class="language-option" data-lang="sr" role="option">Serbian</div>
                        <div class="language-option" data-lang="sl" role="option">Slovenian</div>
                        <div class="language-option" data-lang="et" role="option">Estonian</div>
                        <div class="language-option" data-lang="lv" role="option">Latvian</div>
                        <div class="language-option" data-lang="lt" role="option">Lithuanian</div>
                        <div class="language-option" data-lang="uk" role="option">Ukrainian</div>
                        <div class="language-option" data-lang="be" role="option">Belarusian</div>
                        <div class="language-option" data-lang="mk" role="option">Macedonian</div>
                        <div class="language-option" data-lang="mt" role="option">Maltese</div>
                        <div class="language-option" data-lang="is" role="option">Icelandic</div>
                        <div class="language-option" data-lang="ga" role="option">Irish</div>
                        <div class="language-option" data-lang="cy" role="option">Welsh</div>
                        <div class="language-option" data-lang="eu" role="option">Basque</div>
                        <div class="language-option" data-lang="ca" role="option">Catalan</div>
                        <div class="language-option" data-lang="gl" role="option">Galician</div>
                        <div class="language-option" data-lang="th" role="option">Thai</div>
                        <div class="language-option" data-lang="vi" role="option">Vietnamese</div>
                        <div class="language-option" data-lang="id" role="option">Indonesian</div>
                        <div class="language-option" data-lang="ms" role="option">Malay</div>
                        <div class="language-option" data-lang="tl" role="option">Filipino</div>
                        <div class="language-option" data-lang="he" role="option">Hebrew</div>
                        <div class="language-option" data-lang="fa" role="option">Persian</div>
                        <div class="language-option" data-lang="ur" role="option">Urdu</div>
                        <div class="language-option" data-lang="bn" role="option">Bengali</div>
                        <div class="language-option" data-lang="ta" role="option">Tamil</div>
                        <div class="language-option" data-lang="te" role="option">Telugu</div>
                        <div class="language-option" data-lang="ml" role="option">Malayalam</div>
                        <div class="language-option" data-lang="kn" role="option">Kannada</div>
                        <div class="language-option" data-lang="gu" role="option">Gujarati</div>
                        <div class="language-option" data-lang="pa" role="option">Punjabi</div>
                        <div class="language-option" data-lang="ha" role="option">Hausa</div>
                        <div class="language-option" data-lang="yo" role="option">Yoruba</div>
                        <div class="language-option" data-lang="ig" role="option">Igbo</div>
                    </div>
                </div>
            </div>
            <div class="translation-area">
                <div class="text-panel">
                    <textarea class="text-area" id="source-text" placeholder="Enter text or speak to translate..." maxlength="5000" aria-label="Source text input"></textarea>
                    <div class="char-count" id="char-count">0/5000</div>
                    <div class="panel-controls">
                        <button class="control-btn mic-btn" id="mic-btn" title="Voice Input" aria-label="Start voice input">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"/>
                            </svg>
                        </button>
                        <button class="control-btn" id="copy-source-btn" title="Copy Text" aria-label="Copy source text">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                            </svg>
                        </button>
                        <button class="control-btn" id="speak-source-btn" title="Speak Text" aria-label="Speak source text">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="text-panel">
                    <textarea class="text-area" id="translated-text" placeholder="Translation appears here..." readonly aria-label="Translated text output"></textarea>
                    <div class="panel-controls">
                        <button class="control-btn" id="copy-translated-btn" title="Copy Translation" aria-label="Copy translated text">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                            </svg>
                        </button>
                        <button class="control-btn" id="speak-translated-btn" title="Speak Translation" aria-label="Speak translated text">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            <div class="translate-section">
                <div class="detect-language" id="detected-language" aria-live="polite">Ready to translate</div>
                <button class="translate-btn" id="translate-btn" aria-label="Translate text">Translate</button>
            </div>
            <div class="error-message" id="error-message" role="alert"></div>
        </main>
        <section class="ads-section" aria-label="Affiliate Advertisements">
            <a href="https://affiliate.nexotranslator.live/grammarly" class="affiliate-ad" target="_blank" rel="noopener">
                <div class="ad-content">
                    <h3>Grammarly - Perfect Your Writing</h3>
                    <p>Write with confidence. Advanced grammar and style checker trusted by millions worldwide.</p>
                </div>
            </a>
            <a href="https://affiliate.nexotranslator.live/kindle" class="affiliate-ad" target="_blank" rel="noopener">
                <div class="ad-content">
                    <h3>Kindle Unlimited - Read More</h3>
                    <p>Access over 4 million titles, thousands of audiobooks, and current magazines. Free trial available.</p>
                </div>
            </a>
            <a href="https://affiliate.nexotranslator.live/audible" class="affiliate-ad" target="_blank" rel="noopener">
                <div class="ad-content">
                    <h3>Audible - Listen & Learn</h3>
                    <p>Transform your commute with thousands of audiobooks, original audio shows, and podcasts.</p>
                </div>
            </a>
        </section>

        <section class="section" id="translate-section">
        </section>

        <section class="section" id="history-section">
            <div class="history-section">
                <div class="history-header">
                    <h2>Translation History</h2>
                    <button class="clear-history-btn" id="clear-history-btn">Clear All</button>
                </div>
                <div class="history-list" id="history-list">
                    <p style="text-align: center; color: var(--text-tertiary); font-style: italic; padding: 40px;">No translations yet. Start translating to see your history here.</p>
                </div>
            </div>
        </section>
    </div>

    <nav class="bottom-nav" role="navigation" aria-label="Main navigation">
        <button class="nav-item active" data-section="translate-section" title="Translate" aria-label="Translate section">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.01-4.65.47-6.87l-.46-.66c-.39-.39-.58-.74-.58-1.13 0-.39.19-.74.58-1.13.39-.39.74-.58 1.13-.58s.74.19 1.13.58l.46.66c1.54 2.22 1.27 4.93-.47 6.87l-.03.03 2.54 2.51c.39.39.39 1.03 0 1.42s-1.03.39-1.42 0l-2.39-2.43c-.1.01-.2.02-.3.02-.69 0-1.39-.27-1.94-.82-1.01-1.01-1.01-2.65 0-3.66l.17-.15s.25-.25.39-.39.21-.29.35-.43l.27-.24z"/>
            </svg>
            <div class="nav-label">Translate</div>
        </button>
        <button class="nav-item" data-section="history-section" title="History" aria-label="Translation history">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor">
                <path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/>
            </svg>
            <div class="nav-label">History</div>
        </button>
    </nav>
    
    <!-- Floating Action Button -->
    <button class="fab" id="quick-translate-fab" title="Quick translate">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="1.5">
            <!-- First speech bubble with "N" -->
            <path d="M3 8c0-1.1.9-2 2-2h5c1.1 0 2 .9 2 2v4c0 1.1-.9 2-2 2H6l-2 2V8z" fill="none" stroke="currentColor"/>
            <text x="7.5" y="11" font-size="6" font-weight="bold" fill="currentColor" text-anchor="middle">N</text>
            
            <!-- Second speech bubble with character -->
            <path d="M13 12c0-1.1.9-2 2-2h5c1.1 0 2 .9 2 2v4c0 1.1-.9 2-2 2h-4l-2 2v-6z" fill="none" stroke="currentColor"/>
            <text x="17.5" y="15.5" font-size="5" font-weight="bold" fill="currentColor" text-anchor="middle">æ–‡</text>
            
            <!-- Curved arrows -->
            <path d="M11 7c1.5 0 2.5 1 3 2" fill="none" stroke="currentColor" stroke-width="1"/>
            <path d="M13 17c-1.5 0-2.5-1-3-2" fill="none" stroke="currentColor" stroke-width="1"/>
            <path d="M13.5 8l.5-.5-.5-.5" fill="none" stroke="currentColor" stroke-width="1"/>
            <path d="M10.5 16l-.5.5.5.5" fill="none" stroke="currentColor" stroke-width="1"/>
        </svg>
    </button>

    <script>
class NexoTranslator {
    constructor() {
        this.currentSourceLang = 'auto';
        this.currentTargetLang = 'en';
        this.currentSection = 'translate-section';
        this.translationHistory = JSON.parse(localStorage.getItem('nexoTranslationHistory')) || [];
        this.speechSynthesis = window.speechSynthesis;
        this.isListening = false;
        this.recognition = null;
        
        this.languageNames = {
            'auto': 'Auto Detect',
            'en': 'English',
            'es': 'Spanish',
            'fr': 'French',
            'de': 'German',
            'it': 'Italian',
            'pt': 'Portuguese',
            'ru': 'Russian',
            'ja': 'Japanese',
            'ko': 'Korean',
            'zh': 'Chinese',
            'ar': 'Arabic',
            'hi': 'Hindi',
            'tr': 'Turkish',
            'pl': 'Polish',
            'nl': 'Dutch',
            'sv': 'Swedish',
            'da': 'Danish',
            'no': 'Norwegian',
            'fi': 'Finnish',
            'cs': 'Czech',
            'sk': 'Slovak',
            'hu': 'Hungarian',
            'ro': 'Romanian',
            'bg': 'Bulgarian',
            'hr': 'Croatian',
            'sr': 'Serbian',
            'sl': 'Slovenian',
            'et': 'Estonian',
            'lv': 'Latvian',
            'lt': 'Lithuanian',
            'uk': 'Ukrainian',
            'be': 'Belarusian',
            'mk': 'Macedonian',
            'mt': 'Maltese',
            'is': 'Icelandic',
            'ga': 'Irish',
            'cy': 'Welsh',
            'eu': 'Basque',
            'ca': 'Catalan',
            'gl': 'Galician',
            'th': 'Thai',
            'vi': 'Vietnamese',
            'id': 'Indonesian',
            'ms': 'Malay',
            'tl': 'Filipino',
            'he': 'Hebrew',
            'fa': 'Persian',
            'ur': 'Urdu',
            'bn': 'Bengali',
            'ta': 'Tamil',
            'te': 'Telugu',
            'ml': 'Malayalam',
            'kn': 'Kannada',
            'gu': 'Gujarati',
            'pa': 'Punjabi',
            'ha': 'Hausa',
            'yo': 'Yoruba',
            'ig': 'Igbo'
        };

        this.flagEmojis = {
            'auto': 'ğŸŒ',
            'en': 'ğŸ‡ºğŸ‡¸',
            'es': 'ğŸ‡ªğŸ‡¸',
            'fr': 'ğŸ‡«ğŸ‡·',
            'de': 'ğŸ‡©ğŸ‡ª',
            'it': 'ğŸ‡®ğŸ‡¹',
            'pt': 'ğŸ‡µğŸ‡¹',
            'ru': 'ğŸ‡·ğŸ‡º',
            'ja': 'ğŸ‡¯ğŸ‡µ',
            'ko': 'ğŸ‡°ğŸ‡·',
            'zh': 'ğŸ‡¨ğŸ‡³',
            'ar': 'ğŸ‡¸ğŸ‡¦',
            'hi': 'ğŸ‡®ğŸ‡³',
            'tr': 'ğŸ‡¹ğŸ‡·',
            'pl': 'ğŸ‡µğŸ‡±',
            'nl': 'ğŸ‡³ğŸ‡±',
            'sv': 'ğŸ‡¸ğŸ‡ª',
            'da': 'ğŸ‡©ğŸ‡°',
            'no': 'ğŸ‡³ğŸ‡´',
            'fi': 'ğŸ‡«ğŸ‡®',
            'cs': 'ğŸ‡¨ğŸ‡¿',
            'sk': 'ğŸ‡¸ğŸ‡°',
            'hu': 'ğŸ‡­ğŸ‡º',
            'ro': 'ğŸ‡·ğŸ‡´',
            'bg': 'ğŸ‡§ğŸ‡¬',
            'hr': 'ğŸ‡­ğŸ‡·',
            'sr': 'ğŸ‡·ğŸ‡¸',
            'sl': 'ğŸ‡¸ğŸ‡®',
            'et': 'ğŸ‡ªğŸ‡ª',
            'lv': 'ğŸ‡±ğŸ‡»',
            'lt': 'ğŸ‡±ğŸ‡¹',
            'uk': 'ğŸ‡ºğŸ‡¦',
            'be': 'ğŸ‡§ğŸ‡¾',
            'mk': 'ğŸ‡²ğŸ‡°',
            'mt': 'ğŸ‡²ğŸ‡¹',
            'is': 'ğŸ‡®ğŸ‡¸',
            'ga': 'ğŸ‡®ğŸ‡ª',
            'cy': 'ğŸ´ó §ó ¢ó ·ó ¬ó ³ó ¿',
            'eu': 'ğŸ´',
            'ca': 'ğŸ´',
            'gl': 'ğŸ´',
            'th': 'ğŸ‡¹ğŸ‡­',
            'vi': 'ğŸ‡»ğŸ‡³',
            'id': 'ğŸ‡®ğŸ‡©',
            'ms': 'ğŸ‡²ğŸ‡¾',
            'tl': 'ğŸ‡µğŸ‡­',
            'he': 'ğŸ‡®ğŸ‡±',
            'fa': 'ğŸ‡®ğŸ‡·',
            'ur': 'ğŸ‡µğŸ‡°',
            'bn': 'ğŸ‡§ğŸ‡©',
            'ta': 'ğŸ‡±ğŸ‡°',
            'te': 'ğŸ‡®ğŸ‡³',
            'ml': 'ğŸ‡®ğŸ‡³',
            'kn': 'ğŸ‡®ğŸ‡³',
            'gu': 'ğŸ‡®ğŸ‡³',
            'pa': 'ğŸ‡®ğŸ‡³',
            'ha': 'ğŸ‡³ğŸ‡¬',
            'yo': 'ğŸ‡³ğŸ‡¬',
            'ig': 'ğŸ‡³ğŸ‡¬'
        };

        this.initializeElements();
        this.attachEventListeners();
        this.initializeTheme();
        this.updateHistory();
        this.initializeSpeechRecognition();
    }

    initializeElements() {
        this.elements = {
            sourceText: document.getElementById('source-text'),
            translatedText: document.getElementById('translated-text'),
            translateBtn: document.getElementById('translate-btn'),
            sourceLangBtn: document.getElementById('source-lang-btn'),
            targetLangBtn: document.getElementById('target-lang-btn'),
            sourceLangDropdown: document.getElementById('source-lang-dropdown'),
            targetLangDropdown: document.getElementById('target-lang-dropdown'),
            swapBtn: document.getElementById('swap-btn'),
            charCount: document.getElementById('char-count'),
            detectedLanguage: document.getElementById('detected-language'),
            errorMessage: document.getElementById('error-message'),
            themeToggle: document.getElementById('theme-toggle'),
            micBtn: document.getElementById('mic-btn'),
            copySourceBtn: document.getElementById('copy-source-btn'),
            copyTranslatedBtn: document.getElementById('copy-translated-btn'),
            speakSourceBtn: document.getElementById('speak-source-btn'),
            speakTranslatedBtn: document.getElementById('speak-translated-btn'),
            clearHistoryBtn: document.getElementById('clear-history-btn'),
            historyList: document.getElementById('history-list'),
            quickTranslateFab: document.getElementById('quick-translate-fab')
        };
    }

    attachEventListeners() {
        // Text input
        this.elements.sourceText.addEventListener('input', () => {
            this.updateCharCount();
            this.autoTranslate();
        });

        // Translation
        this.elements.translateBtn.addEventListener('click', () => this.translate());

        // Language selection
        this.elements.sourceLangBtn.addEventListener('click', () => this.toggleDropdown('source'));
        this.elements.targetLangBtn.addEventListener('click', () => this.toggleDropdown('target'));

        // Language swap
        this.elements.swapBtn.addEventListener('click', () => this.swapLanguages());

        // Copy buttons
        this.elements.copySourceBtn.addEventListener('click', () => this.copyText('source'));
        this.elements.copyTranslatedBtn.addEventListener('click', () => this.copyText('translated'));

        // Speak buttons
        this.elements.speakSourceBtn.addEventListener('click', () => this.speakText('source'));
        this.elements.speakTranslatedBtn.addEventListener('click', () => this.speakText('translated'));

        // Microphone button
        this.elements.micBtn.addEventListener('click', () => this.toggleSpeechRecognition());

        // Theme toggle
        this.elements.themeToggle.addEventListener('click', () => this.toggleTheme());

        // History
        this.elements.clearHistoryBtn.addEventListener('click', () => this.clearHistory());

        // FAB
        this.elements.quickTranslateFab.addEventListener('click', () => this.quickTranslate());

        // Dropdown options
        this.attachDropdownListeners();

        // Navigation
        this.attachNavigationListeners();

        // Close dropdowns when clicking outside
        document.addEventListener('click', (e) => this.handleOutsideClick(e));

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => this.handleKeyboardShortcuts(e));
    }

    attachDropdownListeners() {
        const sourceOptions = this.elements.sourceLangDropdown.querySelectorAll('.language-option');
        const targetOptions = this.elements.targetLangDropdown.querySelectorAll('.language-option');

        sourceOptions.forEach(option => {
            option.addEventListener('click', () => this.selectLanguage('source', option.dataset.lang));
        });

        targetOptions.forEach(option => {
            option.addEventListener('click', () => this.selectLanguage('target', option.dataset.lang));
        });
    }

    attachNavigationListeners() {
        const navItems = document.querySelectorAll('.nav-item');
        navItems.forEach(item => {
            item.addEventListener('click', () => {
                const section = item.dataset.section;
                this.switchSection(section);
            });
        });
    }

    initializeSpeechRecognition() {
        if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            this.recognition = new SpeechRecognition();
            this.recognition.continuous = false;
            this.recognition.interimResults = false;
            this.recognition.lang = this.getRecognitionLanguage();

            this.recognition.onstart = () => {
                this.isListening = true;
                this.elements.micBtn.classList.add('recording');
                this.showMessage('Listening... Speak now');
            };

            this.recognition.onresult = (event) => {
                const transcript = event.results[0][0].transcript;
                this.elements.sourceText.value = transcript;
                this.updateCharCount();
                this.translate();
            };

            this.recognition.onerror = (event) => {
                console.error('Speech recognition error:', event.error);
                this.showError('Voice input failed. Please try again.');
                this.stopSpeechRecognition();
            };

            this.recognition.onend = () => {
                this.stopSpeechRecognition();
            };
        }
    }

    getRecognitionLanguage() {
        const langMap = {
            'auto': 'en-US',
            'en': 'en-US',
            'es': 'es-ES',
            'fr': 'fr-FR',
            'de': 'de-DE',
            'it': 'it-IT',
            'pt': 'pt-PT',
            'ru': 'ru-RU',
            'ja': 'ja-JP',
            'ko': 'ko-KR',
            'zh': 'zh-CN',
            'ar': 'ar-SA',
            'hi': 'hi-IN'
        };
        return langMap[this.currentSourceLang] || 'en-US';
    }

    toggleSpeechRecognition() {
        if (!this.recognition) {
            this.showError('Voice input not supported in this browser');
            return;
        }

        if (this.isListening) {
            this.recognition.stop();
        } else {
            this.recognition.lang = this.getRecognitionLanguage();
            this.recognition.start();
        }
    }

    stopSpeechRecognition() {
        this.isListening = false;
        this.elements.micBtn.classList.remove('recording');
    }

    toggleDropdown(type) {
        const dropdown = type === 'source' ? this.elements.sourceLangDropdown : this.elements.targetLangDropdown;
        const otherDropdown = type === 'source' ? this.elements.targetLangDropdown : this.elements.sourceLangDropdown;
        const btn = type === 'source' ? this.elements.sourceLangBtn : this.elements.targetLangBtn;

        // Close other dropdown
        otherDropdown.classList.remove('active');

        // Toggle current dropdown
        const isActive = dropdown.classList.toggle('active');

        if (isActive) {
            // Position dropdown
            const rect = btn.getBoundingClientRect();
            dropdown.style.top = `${rect.bottom + window.scrollY + 8}px`;
            dropdown.style.left = `${rect.left + window.scrollX}px`;
            dropdown.style.width = `${rect.width}px`;
        }

        // Update ARIA attributes
        btn.setAttribute('aria-expanded', isActive);
    }

    selectLanguage(type, langCode) {
        if (type === 'source') {
            this.currentSourceLang = langCode;
            this.updateLanguageButton('source', langCode);
            this.elements.sourceLangDropdown.classList.remove('active');
        } else {
            this.currentTargetLang = langCode;
            this.updateLanguageButton('target', langCode);
            this.elements.targetLangDropdown.classList.remove('active');
        }

        // Update selected option in dropdown
        const dropdown = type === 'source' ? this.elements.sourceLangDropdown : this.elements.targetLangDropdown;
        dropdown.querySelectorAll('.language-option').forEach(option => {
            option.classList.toggle('selected', option.dataset.lang === langCode);
        });

        // Auto-translate if there's text
        if (this.elements.sourceText.value.trim()) {
            this.translate();
        }

        // Update speech recognition language
        if (type === 'source' && this.recognition) {
            this.recognition.lang = this.getRecognitionLanguage();
        }
    }

    updateLanguageButton(type, langCode) {
        const btn = type === 'source' ? this.elements.sourceLangBtn : this.elements.targetLangBtn;
        const flagEl = btn.querySelector('.language-flag');
        const textEl = btn.querySelector('span');

        flagEl.textContent = this.flagEmojis[langCode] || 'ğŸŒ';
        textEl.textContent = this.languageNames[langCode] || langCode.toUpperCase();
    }

    swapLanguages() {
        if (this.currentSourceLang === 'auto') {
            this.showMessage('Cannot swap when source is set to Auto Detect');
            return;
        }

        // Swap language codes
        const tempLang = this.currentSourceLang;
        this.currentSourceLang = this.currentTargetLang;
        this.currentTargetLang = tempLang;

        // Update UI
        this.updateLanguageButton('source', this.currentSourceLang);
        this.updateLanguageButton('target', this.currentTargetLang);

        // Update dropdowns
        this.updateDropdownSelections();

        // Swap text content
        const tempText = this.elements.sourceText.value;
        this.elements.sourceText.value = this.elements.translatedText.value;
        this.elements.translatedText.value = tempText;

        this.updateCharCount();

        // Auto-translate if there's text
        if (this.elements.sourceText.value.trim()) {
            this.translate();
        }

        this.showMessage('Languages swapped');
    }

    updateDropdownSelections() {
        // Update source dropdown
        this.elements.sourceLangDropdown.querySelectorAll('.language-option').forEach(option => {
            option.classList.toggle('selected', option.dataset.lang === this.currentSourceLang);
        });

        // Update target dropdown
        this.elements.targetLangDropdown.querySelectorAll('.language-option').forEach(option => {
            option.classList.toggle('selected', option.dataset.lang === this.currentTargetLang);
        });
    }

    async translate() {
        const sourceText = this.elements.sourceText.value.trim();
        
        if (!sourceText) {
            this.elements.translatedText.value = '';
            this.elements.detectedLanguage.textContent = 'Ready to translate';
            return;
        }

        this.elements.translateBtn.disabled = true;
        this.elements.translateBtn.textContent = 'Translating...';
        this.hideError();

        try {
            // Simulate translation API call - replace with actual API
            const result = await this.simulateTranslation(sourceText, this.currentSourceLang, this.currentTargetLang);
            
            this.elements.translatedText.value = result.translatedText;
            
            if (result.detectedLanguage && this.currentSourceLang === 'auto') {
                const detectedLangName = this.languageNames[result.detectedLanguage] || result.detectedLanguage;
                this.elements.detectedLanguage.textContent = `Detected: ${detectedLangName}`;
            } else {
                this.elements.detectedLanguage.textContent = 'Translation complete';
            }

            // Add to history
            this.addToHistory(sourceText, result.translatedText, this.currentSourceLang, this.currentTargetLang);

        } catch (error) {
            console.error('Translation error:', error);
            this.showError('Translation failed. Please try again.');
        } finally {
            this.elements.translateBtn.disabled = false;
            this.elements.translateBtn.textContent = 'Translate';
        }
    }

    // Simulate translation - replace with actual API call
    async simulateTranslation(text, sourceLang, targetLang) {
        return new Promise((resolve) => {
            setTimeout(() => {
                // Simple simulation - in real app, call translation API
                let translatedText = `[${targetLang.toUpperCase()}] ${text}`;
                let detectedLanguage = sourceLang === 'auto' ? 'en' : null;
                
                resolve({
                    translatedText,
                    detectedLanguage
                });
            }, Math.random() * 1000 + 500); // Simulate network delay
        });
    }

    autoTranslate() {
        // Debounce auto-translation
        clearTimeout(this.autoTranslateTimeout);
        this.autoTranslateTimeout = setTimeout(() => {
            if (this.elements.sourceText.value.trim()) {
                this.translate();
            }
        }, 800);
    }

    updateCharCount() {
        const count = this.elements.sourceText.value.length;
        this.elements.charCount.textContent = `${count}/5000`;
        
        if (count > 4500) {
            this.elements.charCount.style.color = '#d93025';
        } else {
            this.elements.charCount.style.color = 'var(--text-tertiary)';
        }
    }

    copyText(type) {
        const text = type === 'source' ? this.elements.sourceText.value : this.elements.translatedText.value;
        
        if (!text.trim()) {
            this.showMessage(`No ${type} text to copy`);
            return;
        }

        navigator.clipboard.writeText(text).then(() => {
            this.showMessage(`${type === 'source' ? 'Source' : 'Translated'} text copied!`);
        }).catch(() => {
            // Fallback for older browsers
            const textArea = document.createElement('textarea');
            textArea.value = text;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);
            this.showMessage(`${type === 'source' ? 'Source' : 'Translated'} text copied!`);
        });
    }

    speakText(type) {
        if (!this.speechSynthesis) {
            this.showError('Text-to-speech not supported in this browser');
            return;
        }

        const text = type === 'source' ? this.elements.sourceText.value : this.elements.translatedText.value;
        
        if (!text.trim()) {
            this.showMessage(`No ${type} text to speak`);
            return;
        }

        // Stop any ongoing speech
        this.speechSynthesis.cancel();

        const utterance = new SpeechSynthesisUtterance(text);
        
        // Set language
        const lang = type === 'source' ? this.currentSourceLang : this.currentTargetLang;
        utterance.lang = this.getRecognitionLanguage(lang);

        // Set voice properties
        utterance.rate = 0.9;
        utterance.pitch = 1;
        utterance.volume = 1;

        // Speak
        this.speechSynthesis.speak(utterance);
        
        this.showMessage(`Speaking ${type} text...`);
    }

    addToHistory(sourceText, translatedText, sourceLang, targetLang) {
        const historyItem = {
            id: Date.now(),
            sourceText,
            translatedText,
            sourceLang,
            targetLang,
            timestamp: new Date().toISOString()
        };

        this.translationHistory.unshift(historyItem);
        
        // Limit history to 50 items
        if (this.translationHistory.length > 50) {
            this.translationHistory = this.translationHistory.slice(0, 50);
        }

        localStorage.setItem('nexoTranslationHistory', JSON.stringify(this.translationHistory));
        this.updateHistory();
    }

    updateHistory() {
        if (this.translationHistory.length === 0) {
            this.elements.historyList.innerHTML = '<p style="text-align: center; color: var(--text-tertiary); font-style: italic; padding: 40px;">No translations yet. Start translating to see your history here.</p>';
            return;
        }

        this.elements.historyList.innerHTML = this.translationHistory.map(item => `
            <div class="history-item" data-id="${item.id}">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                    <div style="display: flex; align-items: center; gap: 8px; font-size: 12px; color: var(--text-secondary);">
                        <span>${this.flagEmojis[item.sourceLang]} ${this.languageNames[item.sourceLang]}</span>
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M16.01 11H4v2h12.01v3L20 12l-3.99-4z"/>
                        </svg>
                        <span>${this.flagEmojis[item.targetLang]} ${this.languageNames[item.targetLang]}</span>
                    </div>
                    <span style="font-size: 11px; color: var(--text-tertiary);">${this.formatDate(item.timestamp)}</span>
                </div>
                <div style="margin-bottom: 8px;">
                    <strong style="color: var(--text-primary); font-size: 14px;">${this.escapeHtml(item.sourceText)}</strong>
                </div>
                <div style="color: var(--text-secondary); font-size: 14px;">
                    ${this.escapeHtml(item.translatedText)}
                </div>
            </div>
        `).join('');

        // Add click handlers to history items
        this.elements.historyList.querySelectorAll('.history-item').forEach(item => {
            item.addEventListener('click', () => {
                const historyData = this.translationHistory.find(h => h.id == item.dataset.id);
                if (historyData) {
                    this.loadFromHistory(historyData);
                }
            });
        });
    }

    loadFromHistory(historyData) {
        this.currentSourceLang = historyData.sourceLang;
        this.currentTargetLang = historyData.targetLang;
        
        this.elements.sourceText.value = historyData.sourceText;
        this.elements.translatedText.value = historyData.translatedText;
        
        this.updateLanguageButton('source', this.currentSourceLang);
        this.updateLanguageButton('target', this.currentTargetLang);
        this.updateDropdownSelections();
        this.updateCharCount();
        
        this.switchSection('translate-section');
        this.showMessage('Loaded from history');
    }

    clearHistory() {
        if (this.translationHistory.length === 0) {
            this.showMessage('History is already empty');
            return;
        }

        if (confirm('Are you sure you want to clear all translation history?')) {
            this.translationHistory = [];
            localStorage.removeItem('nexoTranslationHistory');
            this.updateHistory();
            this.showMessage('Translation history cleared');
        }
    }

    quickTranslate() {
        const sourceText = this.elements.sourceText.value.trim();
        
        if (!sourceText) {
            this.showMessage('Enter text to translate');
            this.elements.sourceText.focus();
            return;
        }

        this.translate();
        this.showMessage('Quick translate activated!');
    }

    switchSection(sectionId) {
        // Update navigation
        document.querySelectorAll('.nav-item').forEach(item => {
            item.classList.toggle('active', item.dataset.section === sectionId);
        });

        // Update sections
        document.querySelectorAll('.section').forEach(section => {
            section.classList.toggle('active', section.id === sectionId);
        });

        this.currentSection = sectionId;
    }

    handleOutsideClick(e) {
        if (!e.target.closest('.language-selector')) {
            this.elements.sourceLangDropdown.classList.remove('active');
            this.elements.targetLangDropdown.classList.remove('active');
            this.elements.sourceLangBtn.setAttribute('aria-expanded', 'false');
            this.elements.targetLangBtn.setAttribute('aria-expanded', 'false');
        }
    }

    handleKeyboardShortcuts(e) {
        // Ctrl/Cmd + Enter: Translate
        if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
            e.preventDefault();
            this.translate();
        }

        // Ctrl/Cmd + Shift + S: Swap languages
        if ((e.ctrlKey || e.metaKey) && e.shiftKey && e.key === 'S') {
            e.preventDefault();
            this.swapLanguages();
        }

        // Escape: Close dropdowns
        if (e.key === 'Escape') {
            this.elements.sourceLangDropdown.classList.remove('active');
            this.elements.targetLangDropdown.classList.remove('active');
            this.elements.sourceLangBtn.setAttribute('aria-expanded', 'false');
            this.elements.targetLangBtn.setAttribute('aria-expanded', 'false');
        }
    }

    initializeTheme() {
        const savedTheme = localStorage.getItem('nexoTheme') || 'light';
        this.setTheme(savedTheme);
    }

    toggleTheme() {
        const currentTheme = document.documentElement.getAttribute('data-theme') || 'light';
        const newTheme = currentTheme === 'light' ? 'dark' : 'light';
        this.setTheme(newTheme);
    }

    setTheme(theme) {
        document.documentElement.setAttribute('data-theme', theme);
        localStorage.setItem('nexoTheme', theme);
        
        const sunIcon = this.elements.themeToggle.querySelector('.sun-icon');
        const moonIcon = this.elements.themeToggle.querySelector('.moon-icon');
        
        if (theme === 'dark') {
            sunIcon.style.display = 'none';
            moonIcon.style.display = 'block';
        } else {
            sunIcon.style.display = 'block';
            moonIcon.style.display = 'none';
        }
    }

    showError(message) {
        this.elements.errorMessage.textContent = message;
        this.elements.errorMessage.style.display = 'block';
        
        setTimeout(() => {
            this.hideError();
        }, 5000);
    }

    hideError() {
        this.elements.errorMessage.style.display = 'none';
    }

    showMessage(message) {
        // Remove any existing message
        const existingMessage = document.querySelector('.success-message');
        if (existingMessage) {
            existingMessage.remove();
        }

        // Create and show new message
        const messageDiv = document.createElement('div');
        messageDiv.className = 'success-message';
        messageDiv.textContent = message;
        messageDiv.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--primary-color);
            color: white;
            padding: 16px 24px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-glass);
            backdrop-filter: blur(10px);
            z-index: 10000;
            font-size: 14px;
            font-weight: 500;
            transform: translateX(400px);
            transition: var(--transition);
        `;
        
        document.body.appendChild(messageDiv);
        
        // Animate in
        requestAnimationFrame(() => {
            messageDiv.style.transform = 'translateX(0)';
        });
        
        // Animate out and remove
        setTimeout(() => {
            messageDiv.style.transform = 'translateX(400px)';
            setTimeout(() => messageDiv.remove(), 300);
        }, 3000);
    }

    formatDate(isoString) {
        const date = new Date(isoString);
        const now = new Date();
        const diffMs = now - date;
        const diffMins = Math.floor(diffMs / 60000);
        const diffHours = Math.floor(diffMs / 3600000);
        const diffDays = Math.floor(diffMs / 86400000);

        if (diffMins < 1) return 'Just now';
        if (diffMins < 60) return `${diffMins}m ago`;
        if (diffHours < 24) return `${diffHours}h ago`;
        if (diffDays < 7) return `${diffDays}d ago`;
        
        return date.toLocaleDateString();
    }

    escapeHtml(text) {
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
    }
}

// Enhanced version with additional features
class EnhancedNexoTranslator extends NexoTranslator {
    constructor() {
        super();
        this.initializeAdvancedFeatures();
    }

    initializeAdvancedFeatures() {
        // Add performance optimizations
        this.debounceTranslate = this.debounce(this.translate.bind(this), 500);
        
        // Add accessibility features
        this.setupAccessibilityFeatures();
        
        // Add advanced keyboard shortcuts
        this.setupAdvancedShortcuts();
    }

    debounce(func, wait) {
        let timeout;
        return function executedFunction(...args) {
            const later = () => {
                clearTimeout(timeout);
                func(...args);
            };
            clearTimeout(timeout);
            timeout = setTimeout(later, wait);
        };
    }

    setupAccessibilityFeatures() {
        // Add ARIA live regions
        this.elements.detectedLanguage.setAttribute('aria-live', 'polite');
        this.elements.errorMessage.setAttribute('role', 'alert');
        
        // Add keyboard navigation for dropdowns
        this.setupDropdownKeyboardNavigation();
    }

    setupDropdownKeyboardNavigation() {
        [this.elements.sourceLangDropdown, this.elements.targetLangDropdown].forEach(dropdown => {
            dropdown.addEventListener('keydown', (e) => {
                const options = dropdown.querySelectorAll('.language-option');
                const currentIndex = Array.from(options).findIndex(opt => opt.classList.contains('focused'));
                
                switch (e.key) {
                    case 'ArrowDown':
                        e.preventDefault();
                        this.focusOption(options, Math.min(currentIndex + 1, options.length - 1));
                        break;
                    case 'ArrowUp':
                        e.preventDefault();
                        this.focusOption(options, Math.max(currentIndex - 1, 0));
                        break;
                    case 'Enter':
                        e.preventDefault();
                        if (currentIndex >= 0) {
                            options[currentIndex].click();
                        }
                        break;
                    case 'Escape':
                        dropdown.classList.remove('active');
                        break;
                }
            });
        });
    }

    focusOption(options, index) {
        options.forEach(opt => opt.classList.remove('focused'));
        if (options[index]) {
            options[index].classList.add('focused');
            options[index].scrollIntoView({ block: 'nearest' });
        }
    }

    setupAdvancedShortcuts() {
        document.addEventListener('keydown', (e) => {
            // Ctrl/Cmd + D: Clear text
            if ((e.ctrlKey || e.metaKey) && e.key === 'd') {
                e.preventDefault();
                this.elements.sourceText.value = '';
                this.elements.translatedText.value = '';
                this.updateCharCount();
                this.elements.sourceText.focus();
            }
            
            // Ctrl/Cmd + H: Show history
            if ((e.ctrlKey || e.metaKey) && e.key === 'h') {
                e.preventDefault();
                this.switchSection('history-section');
            }
        });
    }

    // Override the show message to be more accessible
    showMessage(message) {
        // Create success notification with better accessibility
        const successDiv = document.createElement('div');
        successDiv.setAttribute('role', 'status');
        successDiv.setAttribute('aria-live', 'polite');
        successDiv.className = 'success-message';
        successDiv.textContent = message;
        successDiv.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--primary-color);
            color: white;
            padding: 16px 24px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-glass);
            backdrop-filter: blur(10px);
            z-index: 10000;
            font-size: 14px;
            font-weight: 500;
            transform: translateX(400px);
            transition: var(--transition);
        `;
        
        document.body.appendChild(successDiv);
        
        // Animate in
        requestAnimationFrame(() => {
            successDiv.style.transform = 'translateX(0)';
        });
        
        // Animate out and remove
        setTimeout(() => {
            successDiv.style.transform = 'translateX(400px)';
            setTimeout(() => document.body.removeChild(successDiv), 300);
        }, 2000);
    }
}

// Initialize the enhanced translator when page loads
let nexoTranslator;
document.addEventListener("DOMContentLoaded", () => {
    nexoTranslator = new EnhancedNexoTranslator();
});

// Service Worker Registration
if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw-2.js')
            .then(registration => console.log('SW registered'))
            .catch(registrationError => console.log('SW registration failed'));
    });
}
    </script>
</body>
</html>
